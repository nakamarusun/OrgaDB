{% extends 'general_template.html' %}

{% block head %}
<link rel="stylesheet" href="{{url_for('static', filename='event_template.css')}}">
{% endblock %}

{% block left_cont %}
{{m.event_nav(event_name,event_id)}}
{% endblock %}

{% block right_cont %}
<div class="popup-confirmation w-full fixed h-full bg-black bg-opacity-50 flex justify-center items-center hidden" style="left:0;top:0;">
    <div class="w-1/3 h-1/2 bg-white border-4 rounded flex flex-col items-center justify-around p-4 m-auto">
        <h1 class="text-2xl">WARNING</h1>
        <p class="">This little maneuver will permanently delete this event and all the data that it contains. This change is IRREVERSIBLE.</p>
        <p>Are you sure?</p>
        <div class="w-full h-12 flex flex-row justify-around">
            <a href="{{url_for('event.delete',id=g.event_id)}}" class="w-1/3 bg-red-700 border border-b-4 border-red-500 hover:bg-red-800    flex justify-center items-center cursor-pointer text-center">
                <h1 class="text-white">Yes</h1>
            </a>
            <h1 class="w-1/3 bg-gray-300 border border-b-4 border-gray-500 hover:bg-gray-400 flex justify-center items-center cursor-pointer text-center cancel">Cancel</h1>
        </div>
    </div>
</div>
<h1 class="text-center text-2xl pt-6 pb-4">Event Data</h1>
<div class="flex flex-col items-center border">
    <div class="text-left w-1/2 px-6 pt-2">
        <p class="py-2">Event id : {{ g.event_id }}</p>
        <p class="py-2">Total member : {{ total_member }} member</p> 
    </div>
    {% if session.get("isadmin") %}
    <div class="w-1/2 h-full flex justify-end items-end text-right py-2"><button class="bg-red-700 border-2 border-red-600 p-1 h-10 text-white rounded delete-button">Delete event</button></div>
    {% endif %}
</div>
{% endblock %}
{% block scripts %}
<script>
    $(document).on('click','.cancel', function(){
        $('.popup-confirmation').fadeToggle()
    })
    $(document).on('click','.delete-button', function(){
        $('.popup-confirmation').fadeIn()
        $('.popup-confirmation').css('display','flex')
    })

</script>
{% endblock %}